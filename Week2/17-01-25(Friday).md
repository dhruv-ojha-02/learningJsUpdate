# Date: 17/01/25 (Friday)

### IIFE in JS

-Immediately Invoked Function Expressions (IIFE) are JavaScript functions that are executed immediately after they are defined. 
-They are typically used to create a local scope for variables to prevent them from polluting the global scope, thus avoids 
conflicting with other variables in the broader scope of your application.


### Lexical Scoping

- The area where an item is defined or created.
- The basic concept of lexical scoping is that an inner function can access the variables defined in the outer function.


e.g.

// Example of Lexical Scoping

function outer(){
    let user ="Dhruv";
    // console.log("Key",key); //Reference error :key is not defined
    
    function inner(){
        let key = "123";
        console.log("Inner",user);
    }
    inner();
}

// console.log("Outer",user);  //Reference Error: user is not defined
outer();




### Closure

- Closure is when a function is able to remember and access its lexical scope, even when the function is executed outside 
that lexical scope (in a different scope).

e.g.

// Closure 
function outer(){
    let user ="Dhruv";
    
    function inner(){
        console.log(user);
    }
    
    return inner;   //return the function reference
}

const myFunc = outer();
myFunc();


/*

- since outer is executed ,its scope is gone and if thats the case,
- how will lexical scoping work now
- The thing is ,instead of only returning the function, its complete lexical scope is also returned to this myFunc variable
this is what closure is and thus it also allows lexical scoping in

*/

### Concept of ‘this’

In JS, this refers to an object. The this keyword refers to different objects depending on how it is used:
- In an object method, this refers to the object.
- Alone, this refers to the global object.
- In a function, in strict mode, this is undefined.
- In a function, this refers to the global object.
- In an event, this refers to the element that received the event.
- Methods like call(), apply() and bind() can refer this to any object.


this in a method: 
/*

let user = {
    firstName: "Dhruv",
    lastName: "Ojha",
    
    fullname: function(){
        console.log(`${this.firstName}  ${this.lastName}`)
    }
};
user.fullname();
user.firstName = "Aryan";
user.fullname();

*/

- Arrow functions don’t have their own this keyword. Instead, they will use the 'this' keyword of whatever 'this' was outside the 
function when it was created.
- In other words, 'this' inside the arrow function is not bound to our call object, but instead is already bound to where the 
call object is being created originally, which in this case is the global object. And because the global object does not have a caller property, 
this.caller is undefined. 
